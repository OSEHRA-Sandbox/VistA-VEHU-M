IBY592PR ;EDE/JWS - Pre-Installation for IB patch 592 ; 2/28/17 4:33pm
 ;;2.0;INTEGRATED BILLING;**592**;21-MAR-94;Build 58
 ;;Per VA Directive 6402, this routine should not be modified.
 ;
 ; IA# 10013 - ^DIK
 ;
 ; need to check existence of Form #7, file 353 BILL FORM TYPE file
 I $D(^IBE(353,7,0)),$P($G(^(0)),"^")'="J430D" D FORM
 ;
 ; delete all output formatter (O.F.) data elements included in build
 D DELOF
 Q
 ;
FORM ;move existing form 7 to 207
 N NAME,FDA,A,CT
 M ^IBE(353,207)=^IBE(353,7)
 S NAME=$P($G(^IBE(353,207,0)),"^")
 S ^IBE(353,"B",NAME,207)=""
 S FDA(353,"207,",2.04)=0 D FILE^DIE(,"FDA",)
 S FDA(353,"7,",.01)="J430D" D FILE^DIE(,"FDA",)
 D MES^XPDUTL("Checking Bill/Claims file Bill Form Type...")
 S A=0 F  S A=$O(^DGCR(399,A)) Q:A'=+A  S CT=$G(CT)+1 W:(CT#1000)=0 "." I $P($G(^(A,0)),"^",19)=7 D
 . S $P(^DGCR(399,A,0),"^",19)=207
 . Q
 Q
 ;
INCLUDE(FILE,Y) ; function to determine if O.F. entry should be included in the build
 ; FILE=5,6,7 indicating file 364.x
 ; Y=ien to file
 NEW OK,LN,TAG,DATA
 S OK=0
 F LN=2:1 S TAG="ENT"_FILE_"+"_LN,DATA=$P($T(@TAG),";;",2) Q:DATA=""  I $F(DATA,U_Y_U) S OK=1 Q
 Q OK
 ;
 ;Delete edited entries to insure clean install of new entries
 ;Delete obsolete entries.
DELOF   ; Delete included OF entries
 NEW FILE,DIK,LN,TAG,TAGLN,DATA,PCE,DA,Y
 F FILE=5,6,7 S DIK="^IBA(364."_FILE_"," D
 . F TAG="ENT"_FILE,"DEL"_FILE D
 .. F LN=2:1 S TAGLN=TAG_"+"_LN,DATA=$P($T(@TAGLN),";;",2) Q:DATA=""  D
 ... F PCE=2:1 S DA=$P(DATA,U,PCE) Q:'DA  I $D(^IBA("364."_FILE,DA,0)) D ^DIK
 Q
 ;
 ; Example for ENT5, ENT6, ENT7, DEL5, DEL6, and DEL7:
 ;;^195^254^259^269^324^325^
 ; Note:  Must have beginning and ending up-carat
 ;
 ;-----------------------------------------------------------------------
 ; 364.5 entries modified:
 ;
 ; 83 - N-ATT/REND PHYSICIAN NAME
 ; 97 - N-NON-INSTITUTIONAL CLAIM TYPE
 ; 249 - N-ATT/REND PHYSICIAN SPEC
 ; 261 - N-ATT/REND PROVIDER ID
 ; 370 - N-ATT/REND PHYSICIAN NAME BR
 ; 378 - N-ORTHO BANDING QUALIFIER
 ; 379 - N-ORTHO BANDIN DATE
 ; 380 - N-ORTHO TX MTHS COUNT
 ; 381 - N-ORTHO TX MTHS COUNT TRANSFER
 ; 382 - N-ORTHO TX INDICATOR
 ; 383 - N-TOOTH NUMBER
 ; 384 - N-HCFA J430D SERV LINE (EDI)
 ; 437 - N-HCFA SERVICE LINE CALLABLE
 ;
ENT5 ; OF entries in file 364.5 to be included
 ;
 ;;^83^97^249^261^370^378^379^380^381^382^383^384^437^
 ;
 ;-----------------------------------------------------------------------
 ; 364.6 entries modified:
 ;
 ; 2258 - seg 62, 1-RECORD ID 'DN1 '
 ; 2259 - seq 62, 2-ORTHO BANDING QUALIFIER
 ; 2260 - seq 62, 3-ORTHO BANDING DATE
 ; 2261 - seq 62, 4-ORTHO TX MONTHS COUNT
 ; 2262 - seq 62, 5-ORTHO TX MTHS CT TRANS
 ; 2263 - seq 62, 6-ORTHO TX INDICATOR
 ; 2264 - seq 63, 1-RECORD ID 'DN2 '
 ; 2266 - seq 63, 2-TOOTH NUMBER
 ; 2267 - seq 63, 3-TOOTH STATUS CODE
 ; 2268 - seq 63, 4-TOOTH CODE LIST QUALIFIER
 ; 2269 - seq 101, 8-REFERRING PROVIDER CODE
 ; 2270 - seq 101, 9-REFERRING PROVIDER CODE QUALIFIER
 ; 2271 - seq 101, 10-REFERRING PROVIDER TAXONOMY
 ; 2272 - seq 104.6, 1-RECORD ID 'OPRB'
 ; 2273 - seq 104.6, 2-ASST SURGEON QUALIFIER
 ; 2274 - seq 104.6, 3-ASST SURGEON TYPE
 ; 2275 - seq 104.6, 4-ASST SURGEON LAST NAME
 ; 2276 - seq 104.6, 5-ASST SURGEON FIRST NAME
 ; 2277 - seq 104.6, 6-ASST SURGEON MIDDLE NAME
 ; 2278 - seq 104.6, 7-ASST SURGEON NAME SUFFIX
 ; 2279 - seq 104.6, 8-ASST SURGEON PRIMARY ID QUALIFIER
 ; 2280 - seq 104.6, 9-ASST SURGEON PRIMARY ID
 ; 2281 - seq 104.6, 10-ASST SURGEON TAXONOMY QUALIFIER
 ; 2282 - seq 104.6, 11-ASST SURGEON TAXONOMY
 ; 2283 - seq 104.6, 1.5-OPRB Setup
 ; 2284 - seq 104.6, 99.5-OPRG Cleanup
 ; 2285 - seq 104.61, 1-RECORD ID 'OPRC'
 ; 2286 - seq 104.61, 2-ASST SURGEON SEC ID QUALIFIER(1)
 ; 2287 - seq 104.61, 3-ASST SURGEON SEC ID (1)
 ; 2288 - seq 104.61, 1.5-OPRC Setup
 ; 2289 - seq 104.61, 4-ASST SURGEON SEC ID QIALIFIER(2)
 ; 2290 - seq 104.61, 5-ASST SURGEON SEC ID (2)
 ; 2291 - seq 104.61, 6-ASST SURGEON SEC ID QUALIFIER(3)
 ; 2292 - seq 104.61, 7-ASST SURGEON SEC ID (3)
 ; 2293 - seq 104.61, 8-ASST SURGEON SEC ID QIALIFIER(4)
 ; 2294 - seq 104.61, 9-ASST SURGEON SEC ID (4)
 ; 2295 - seq 104.61, 99.5-OPRC Cleanup
 ; 2296 - seq 178.1, 1-RECORD ID 'OP10'
 ; 2297 - seq 178.1, 1.5-OP10 Setup
 ; 2298 - seq 178.1, 2-PAYER RESPONSIBILITY SEQ # CODE
 ; 2299 - seq 178.1, 3-OTHER PAYER ASST SURGEON ENTITY ID
 ; 2300 - seq 178.1, 4-OTHER PAYER ASST SURGEON ENTITY QUAL
 ; 2301 - seq 178.1, 5-OTHER PAYER ASST SURGEON SEC ID QUAL(1)
 ; 2302 - seq 178.1, 6-OTHER PAYER ASST SURGEON SEC ID(1)
 ; 2303 - seq 178.1, 7-OTHER PAYER ASST SURGEON SEC ID QUAL(2)
 ; 2304 - seq 178.1, 8-OTHER PAYER ASST SURGEON SEC ID(2)
 ; 2305 - seq 178.1, 9-OTHER PAYER ASST SURGEON SEC ID QUAL(3)
 ; 2306 - seq 178.1, 10-OTHER PAYER ASST SURGEON SEC ID(3)
 ; 2307 - seq 178.1, 99.5-OP10 Cleanup
 ; 2308 - seq 186, 1-RECORD ID 'DEN '
 ; 2309 - seq 186, 2-SERVICE LINE #
 ; 2310 - seq 186, 3-DATE/TIME QUALIFIER
 ; 2311 - seq 186, 4-SERVICE DATE
 ; 2312 - seq 186, 5-SERVICE ID QUALIFIER
 ; 2313 - seq 186, 6-PROCEDURE CODE
 ; 2314 - seq 186, 7-PROCEDURE MODIFIER(1)
 ; 2315 - seq 186, 8-PROCEDURE MODIFIER(2)
 ; 2316 - seq 186, 9-PROCEDURE MODIFIER(3)
 ; 2317 - seq 186, 10-PROCEDURE MODIFIER(4)
 ; 2318 - seq 186, 11-PROCEDURE CODE DESCRIPTION
 ; 2319 - seq 186, 12-LINE ITEM CHARGE AMT
 ; 2320 - seq 186, 13-PLACE OF SERVICE CODE
 ; 2321 - seq 186, 14-ORAL CAVITY DESIGNATION(1)
 ; 2322 - seq 186, 15-ORAL CAVITY DESIGNATION(2)
 ; 2323 - seq 186, 16-ORAL CAVITY DESIGNATION(3)
 ; 2324 - seq 186, 17-ORAL CAVITY DESIGNATION(4)
 ; 2325 - seq 186, 18-ORAL CAVITY DESIGNATION(5)
 ; 2326 - seq 186, 19-PROSTHESIS CROWN INLAY CODE
 ; 2327 - seq 186.1, 1-RECORD ID 'DEN1'
 ; 2328 - seq 186.1, 2-SERVICE LINE #
 ; 2329 - seq 186.1, 3-PROCEDURE COUNT
 ; 2330 - seq 186.1, 4-DIAGNOSIS CODE POINTER(1)
 ; 2331 - seq 186.1, 5-DIAGNOSIS CODE POINTER(2)
 ; 2332 - seq 186.1, 6-DIAGNOSIS CODE POINTER(3)
 ; 2333 - seq 186.1, 7-DIAGNOSIS CODE POINTER(4)
 ; 2334 - seq 186.1, 8-PRIOR PLACEMENT DATE QUALIFIER
 ; 2335 - seq 186.1, 9-PRIOR PLACEMENT DATE
 ; 2336 - seq 186.1, 10-ORTHO BANDING DATE QUALIFIER
 ; 2337 - seq 186.1, 11-ORTHO BANDING DATE
 ; 2338 - seq 186.1, 12-REPLACEMENT DATE QUALIFIER
 ; 2339 - seq 186.1, 13-REPLACEMENT DATE
 ; 2340 - seq 186.1, 14-TREATMENT START DATE QUALIFIER
 ; 2341 - seq 186.1, 15-TREATMENT START DATE
 ; 2342 - seq 186.1, 16-TREATMENT COMPLETION DATE QUALIFIER
 ; 2343 - seq 186.1, 17-TREATMENT COMPLETION DATE
 ; 2344 - seq 186.2, 1-RECORD ID 'DEN2'
 ; 2345 - seq 186.2, 2-SERVICE LINE #
 ; 2346 - seq 186.2, 3-TOOTH CODE QUALIFIER
 ; 2347 - seq 186.2, 4-TOOTH CODE
 ; 2348 - seq 186.2, 5-TOOTH SURFACE(1)
 ; 2349 - seq 186.2, 6-TOOTH SURFACE(2)
 ; 2350 - seq 186.2, 7-TOOTH SURFACE(3)
 ; 2351 - seq 186.2, 8-TOOTH SURFACE(4)
 ; 2352 - seq 186.2, 9-TOOTH SURFACE(5)
 ; 2353 - seq 194.5, 1-RECORD ID 'LSUR'
 ; 2354 - seq 194.5, 2-SERVICE LINE COUNTER
 ; 2355 - seq 194.5, 3-ASST SURGEON QUALIFIER
 ; 2356 - seq 194.5, 4-ASST SURGEON LAST NAME
 ; 2357 - seq 194.5, 5-ASST SURGEON FIRST NAME
 ; 2358 - seq 194.5, 6-ASST SURGEON MIDDLE NAME
 ; 2359 - seq 194.5, 7-ASST SURGEON NAME SUFFIX
 ; 2360 - seq 194.5, 8-ASST SURGEON PRIMARY ID QUALIFIER
 ; 2361 - seq 194.5, 9-ASST SURGEON PRIMARY ID
 ; 2370 - seq 194.5, 1.9-LSUR DATA EXTRACT
 ; 2372 - seq 194.6, 1-RECORD ID 'LSR1'
 ; 2373 - seq 194.6, 1.9-LSR1 DATA EXTRACT
 ; 2374 - seq 194.6, 2-SERVICE LINE COUNTER
 ; 2375 - seq 194.6, 3-ASST SURGEON SECONDARY ID QUALIFIER(1)
 ; 2376 - seq 194.6, 4-ASST SURGEON SECONDARY ID(1)
 ; 2377 - seq 194.6, 5-ASST SURGEON SECONDARY ID QUALIFIER(2)
 ; 2378 - seq 194.6, 6-ASST SURGEON SECONDARY ID(2)
 ; 2379 - seq 194.6, 7-ASST SURGEON SECONDARY ID QUALIFIER(3)
 ; 2380 - seq 194.6, 8-ASST SURGEON SECONDARY ID(3)
 ; 2381 - seq 194.6, 9-ASST SURGEON TAXONOMY QUALIFIER
 ; 2382 - seq 194.6, 10-ASST SURGEON TAXONOMY CODE
 ;
ENT6 ; O.F. entries in file 364.6 to be included
 ;
 ;;^2258^2259^2260^2261^2262^2263^2264^2266^2267^2268^2269^2270^2271^2272^
 ;;^2273^2274^2275^2276^2277^2278^2279^2280^2281^2282^2283^2284^2285^2286^
 ;;^2287^2288^2289^2290^2291^2292^2293^2294^2295^2296^2297^2298^2299^2300^
 ;;^2301^2302^2303^2304^2305^2306^2307^2308^2309^2310^2311^2312^2313^2314^
 ;;^2315^2316^2317^2318^2319^2320^2321^2322^2323^2324^2325^2326^2327^2328^
 ;;^2329^2330^2331^2332^2333^2334^2335^2336^2337^2338^2339^2340^2341^2342^
 ;;^2343^2344^2345^2346^2347^2348^2349^2350^2351^2352^2353^2354^2355^2356^
 ;;^2357^2358^2359^2360^2361^2370^2372^2373^2374^2375^2376^2377^2378^2379^
 ;;^2380^2381^2382^
 ;-----------------------------------------------------------------------
 ; 364.7 entries modified:
 ;
 ;
ENT7 ; O.F. entries in file 364.7 to be included
 ;
 ;;^1425^1426^1460^1461^1462^1463^1464^1465^1466^1467^1468^1469^1470^1471^
 ;;^1472^1473^1474^1475^1476^1477^1478^1479^1480^1481^1482^1483^1484^1485^
 ;;^1486^1487^1488^1489^1490^1491^1492^1493^1494^1495^1496^1497^1498^1499^
 ;;^1505^1506^1507^1508^1509^1510^1511^1512^1513^1514^1515^1516^1517^1528^
 ;;^1548^1549^1552^1553^1554^1555^1556^1557^1558^1559^1560^1580^1581^1582^
 ;;^1583^1584^1585^1586^1587^1588^1589^1590^1591^1592^1593^1594^1595^1596^
 ;;^1597^1598^1599^1600^1601^1602^1603^1604^1605^1606^1607^1608^1609^1614^
 ;;^1688^1689^1728^1729^1730^1731^1957^1958^1959^1960^1961^1962^1963^1964^
 ;;^1965^1966^1967^31^37^1006^1023^1015^16^127^75^1008^1727^854^1519^1520^
 ;;^1522^1523^1524^1525^1945^1946^1003^98^132^1672^1673^49^644^645^646^
 ;;^647^648^649^443^444^445^446^447^448^449^450^1703^1704^1705^1706^1707^
 ;;^1708^1709^1710^
 ;
 ;-----------------------------------------------------------------------
 ; 364.5 entries deleted:
 ;
DEL5    ; remove O.F. entries in file 364.5 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
 ; 364.6 entries deleted:
 ;
 ;
DEL6    ; remove O.F. entries in file 364.6 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
 ; 364.7 entries deleted:
 ;
 ;
DEL7    ; remove O.F. entries in file 364.7 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
