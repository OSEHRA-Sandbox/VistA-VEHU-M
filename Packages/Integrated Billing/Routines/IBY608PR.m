IBY608PR ;EDE/JRA - Pre-Installation for IB patch 608 ; 10/12/17 2:12 pm
 ;;2.0;INTEGRATED BILLING;**608**;21-MAR-94;Build 90
 ;;Per VA Directive 6402, this routine should not be modified.
 ;
 ; delete all output formatter (O.F.) data elements included in build
 D DELOF
 Q
 ;
INCLUDE(FILE,Y) ; function to determine if O.F. entry should be included in the build
 ; FILE=5,6,7 indicating file 364.x or FILE=8 indicating file 350.8 (IB ERROR)
 ; Y=ien to file
 NEW OK,LN,TAG,DATA
 S OK=0
 F LN=2:1 S TAG="ENT"_FILE_"+"_LN,DATA=$P($T(@TAG),";;",2) Q:DATA=""  I $F(DATA,U_Y_U) S OK=1 Q
 Q OK
 ;
 ;Delete edited entries to insure clean install of new entries
 ;Delete obsolete entries.
DELOF   ; Delete included OF entries
 NEW FILE,DIK,LN,TAG,TAGLN,DATA,PCE,DA,Y
 F FILE=5:1:8 S DIK=$S(FILE=8:"^IBE(350.",1:"^IBA(364.")_FILE_"," D
 . F TAG="ENT"_FILE,"DEL"_FILE D
 .. F LN=2:1 S TAGLN=TAG_"+"_LN,DATA=$P($T(@TAGLN),";;",2) Q:DATA=""  D
 ... F PCE=2:1 S DA=$P(DATA,U,PCE) Q:'DA  D
 .... I FILE=8,$D(^IBE(350.8,DA,0)) D ^DIK
 .... Q:FILE=8
 .... I $D(^IBA("364."_FILE,DA,0)) D ^DIK
 Q
 ;
 ; Example for ENT5, ENT6, ENT7, ENT8, DEL5, DEL6, and DEL7:
 ;;^195^254^259^269^324^325^
 ; Note:  Must have beginning and ending up-carat
 ;
 ;-----------------------------------------------------------------------
 ; 364.5 O.F. entries added:
 ;
 ;  225  N-COB CLAIM LEVEL AMOUNTS 'COB1-1.9' (US2486)
 ;  226  N-MEDICARE INPT CLAIM COB AMTS 'MIA1-1.9' (US2486)
 ;  227  N-MEDICARE OUTPT CLAIM COB AMT 'MOA1-1.9' (US2486)
 ;  228  N-COB CLAIM LEVEL ADJUSTMENTS 'CCAS-1.9' (US2486)
 ;  396  N-CMN RECORD ID 'LQ  '
 ;  438  N-CMN RECORD ID 'FRM '
 ;  440  N-CMN RECORD ID 'CMN '
 ;  442  N-CMN RECORD ID 'MEA '
 ;  
ENT5 ;O.F. entries in file 364.5 to be added
 ;
 ;;^225^226^227^228^396^438^440^442^
 ;
 ;-----------------------------------------------------------------------
 ; 364.6 O.F. entries added:
 ;
 ;  2383 CMN RECORD ID 'LQ  '
 ;  2384 CMN FORM TYPE QUALIFIER
 ;  2385 SERVICE LINE #
 ;  2387 CMN INDUSTRY CODE
 ;  2388 CMN CERTIFICATION TYPE
 ;  2390 CMN CERTIFICATION TYPE QUAL
 ;  2392 CMN MEASUREMENT REFERENCE ID CODE
 ;  2393 CMN PATIENT WEIGHT (LBS)
 ;  2394 CMN PATIENT WEIGHT MODIFIER
 ;  2395 CMN MONTHS DME EQUIPMENT NEEDED
 ;  2396 CMN DATE THERAPY STARTED
 ;  2397 CMN DATE THERAPY STARTED QUALIFIER
 ;  2398 CMN LAST CERTIFICATION DATE
 ;  2399 CMN LAST CERTIFICATION DATE QUALIFIER
 ;  2400 CMN RECERTIFICATION/REVISION DATE
 ;  2401 CMN REPLACEMENT ITEM?
 ;  2433 LQ DATA EXTRACT
 ;  2436 FRM DATA EXTRACT
 ;  2438 CMN RECORD ID 'FRM '
 ;  2439 SERVICE LINE #
 ;  2442 CMN QUESTION NUMBER/LETTER
 ;  2443 CMN QUESTION RESPONSE Y/N
 ;  2444 CMN QUESTION RESPONSE REF ID
 ;  2445 CMN QUESTION RESPONSE DATE
 ;  2446 CMN QUESTION RESPONSE % & DECIMAL
 ;  2447 SERVICE LINE #
 ;  2448 CMN DATA EXTRACT
 ;  2449 CMN RECORD ID 'CMN '
 ;  2451 CMN UNIT OR BASIS FOR MEASUREMENT CODE
 ;  2452 CMN CERTIFICATION CONDITION INDICATOR
 ;  2453 CMN CONDITION INDICATOR
 ;  2454 CMN ATTACHMENT REPORT TYPE CODE
 ;  2455 CMN ATTACHMENT TRANSMISSION CODE
 ;  2456 CMN CODE CATEGORY
 ;  2457 CMN RECORD ID 'MEA '
 ;  2458 MEA DATA EXTRACT
 ;  2461 SERVICE LINE #
 ;  2462 CMN MEASUREMENT QUALIFIER
 ;  2463 CMN TEST RESULTS
 ;
ENT6 ;O.F. entries in file 364.6 to be added
 ;
 ;;^2383^2384^2385^2387^2388^2390^2392^2393^2394^2395^2396^2397^2398^
 ;;^2399^2400^2401^2433^2436^2438^2439^2442^2443^2444^2445^2446^2447^
 ;;^2448^2449^2451^2452^2453^2454^2455^2456^2457^2458^2461^2462^2463^
 ;
 ;-----------------------------------------------------------------------
 ; 364.7 O.F. entries added:
 ;
 ;  105  VC1 VALUE CODE (837 Transaction) (PC 2) (US9)
 ;  176  INS SERVICE LINE COUNTER (PC 2) (US9)
 ;  178  INS SERVICE UNIT COUNT (PC 5) (US9)
 ;  179  INS BLANK (PC 6) (US9)
 ;  180  INS SERVICE LINE CHARGE AMT (PC 9) (US9)
 ;  181  INS PROCEDURE MODIFIER (1) (PC 7) (US9)
 ;  189  INS PROCEDURE CODE (PC 4) (US9)
 ;  478  BGN N-RECORD ID (PC1) (US9)
 ;  482  INS SERVICE LINE NON-COVERED CHARGE AMT (PC 12) (US9)
 ;  805  INS UNITS/BASIS FOR MEASUREMENT CODE (PC 13) (US9)
 ;  985  N-GET FROM PREVIOUS EXTRACT 'LCOB-1.9' - US2486
 ; 1015  GEN-7
 ; 1751  LDATE SERVICE LINE COUNTER (PC 2)
 ; 1752  LDAT DATA EXTRACT (837 Transaction) (PC 1.9) (US9)
 ; 1765  LDAT CLEANUP (837 Transaction) (PC 99.9) (US9)
 ; 1969  CMN RECORD ID 'LQ  '
 ; 1970  SERVICE LINE #
 ; 1971  CMN FORM TYPE QUALIFIER
 ; 1973  CMN INDUSTRY CODE
 ; 1974  CMN CERTIFICATION TYPE
 ; 1975  CMN CERTIFICATION TYPE QUAL
 ; 1977  CMN MEASUREMENT REFERENCE ID CODE
 ; 1978  CMN PATIENT WEIGHT (LBS)
 ; 1979  CMN PATIENT WEIGHT MODIFIER
 ; 1980  CMN MONTHS DME EQUIPMENT NEEDED
 ; 1981  CMN DATE THERAPY STARTED
 ; 1982  CMN DATE THERAPY STARTED QUALIFIER
 ; 1983  CMN LAST CERTIFICATION DATE
 ; 1984  CMN LAST CERTIFICATION DATE QUALIFIER
 ; 1985  CMN RECERTIFICATION/REVISION DATE
 ; 1986  CMN REPLACEMENT ITEM?
 ; 2018  LQ DATA EXTRACT
 ; 2019  FRM DATA EXTRACT
 ; 2020  CMN RECORD ID 'FRM '
 ; 2021  CMN QUESTION NUMBER/LETTER
 ; 2022  CMN QUESTION RESPONSE Y/N
 ; 2023  CMN QUESTION RESPONSE REF ID
 ; 2024  CMN QUESTION RESPONSE DATE
 ; 2025  CMN QUESTION RESPONSE % & DECIMAL
 ; 2026  SERVICE LINE #
 ; 2027  SERVICE LINE #
 ; 2028  CMN DATA EXTRACT
 ; 2029  CMN RECORD ID 'CMN '
 ; 2030  CMN UNIT OR BASIS FOR MEASUREMENT CODE
 ; 2031  CMN CERTIFICATION CONDITION INDICATOR
 ; 2032  CMN ATTACHMENT REPORT TYPE CODE
 ; 2033  CMN ATTACHMENT TRANSMISSION CODE
 ; 2034  CMN CODE CATEGORY
 ; 2035  CMN CONDITION INDICATOR
 ; 2038  CMN RECORD ID 'MEA '
 ; 2039  MEA DATA EXTRACT
 ; 2040  SERVICE LINE #
 ; 2041  CMN MEASUREMENT QUALIFIER
 ; 2042  CMN TEST RESULTS
 ;
ENT7 ; O.F. entries in file 364.7 to be added
 ;
 ;;^105^176^178^179^180^181^189^478^482^805^985^1015^1751^1752^1765^
 ;;^1969^1970^1971^1973^1974^1975^1977^1978^1979^1980^1981^
 ;;^1982^1983^1984^1985^1986^2018^2019^2020^2021^2022^2023^
 ;;^2024^2025^2026^2027^2028^2029^2030^2031^2032^2033^2034^
 ;;^2035^2038^2039^2040^2041^2042^
 ;
 ;-----------------------------------------------------------------------
 ; 350.8 O.F. entries added:
 ;
 ; 239   IB CMN NOT REQ BUT DATA  (IB901)
 ; 240   IB CMN FORM TYPE  (IB902)
 ; 241   IB CMN NO DATA NODE  (IB903)
 ; 243   IB CMN BAD DATA NODE  (IB904)
 ; 244   IB CMN CERT TYPE  (IB905)
 ; 246   IB CMN THERAPY DT  (IB907)
 ; 247   IB CMN LAST CERT DT  (IB908)
 ; 248   IB CMN RECERT/REVISION DT  (IB909)
 ; 259   IB CMN ABG SAT DT  (IB912)
 ; 271   IB CMN 4 LPM DATE  (IB914)
 ; 272   IB CMN ERRORS HEADER  (IB915)
 ; 273   IB CMN PEB (IB906)
 ;
ENT8 ;O.F. entries in file 350.8 to be added
 ;
 ;;^239^240^241^243^244^246^247^248^259^271^272^273^
 ;
 ;-----------------------------------------------------------------------
 ; 364.5 entries deleted:
 ;
DEL5    ; remove O.F. entries in file 364.5 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
 ; 364.6 entries deleted:
 ;
DEL6    ; remove O.F. entries in file 364.6 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
 ; 364.7 entries deleted:
 ;
 ;
DEL7    ; remove O.F. entries in file 364.7 (not re-added)
 ;
 ;;
 ;
 ;-----------------------------------------------------------------------
 ; 350.8 Entries deleted:
 ;
 ;  238  IB CMN REQ
 ;
DEL8    ; remove entries from 350.8 (IB ERROR)
 ;
 ;;
 ;
